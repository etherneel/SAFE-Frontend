"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_thirdweb-dev_wallets_evm_connectors_paper_dist_thirdweb-dev-w-4f4854"],{

/***/ "(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js ***!
  \*******************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaperWalletConnector: function() { return /* binding */ PaperWalletConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js */ \"(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-a5db7c83.browser.esm.js\");\n/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ \"(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js\");\n/* harmony import */ var _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @paperxyz/embedded-wallet-service-sdk */ \"(app-pages-browser)/./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js */ \"(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js\");\n/* harmony import */ var _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/walletIds-afeb5af2.browser.esm.js */ \"(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/dist/walletIds-afeb5af2.browser.esm.js\");\n/* harmony import */ var _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/connector-05689d68.browser.esm.js */ \"(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/dist/connector-05689d68.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter3 */ \"(app-pages-browser)/./node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\nvar _signer = /*#__PURE__*/new WeakMap();\nclass PaperWalletConnector extends _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.C {\n  constructor(options) {\n    super();\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"id\", _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.w.paper);\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"name\", \"Paper Wallet\");\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"ready\", true);\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"user\", null);\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__._)(this, _signer, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onAccountsChanged\", async accounts => {\n      if (accounts.length === 0) {\n        await this.onDisconnect();\n      } else {\n        this.emit(\"change\", {\n          account: ethers__WEBPACK_IMPORTED_MODULE_6__.getAddress(accounts[0])\n        });\n      }\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onChainChanged\", chainId => {\n      const id = (0,_dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.n)(chainId);\n      const unsupported = this.options.chains.findIndex(c => c.chainId === id) === -1;\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onDisconnect\", async () => {\n      this.emit(\"disconnect\");\n    });\n    this.options = options;\n  }\n  getPaperSDK() {\n    if (!this.paper) {\n      this.paper = new Promise(async (resolve, reject) => {\n        const recoveryMethod = this.options.advancedOptions?.recoveryShareManagement;\n        try {\n          const {\n            PaperEmbeddedWalletSdk\n          } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @paperxyz/embedded-wallet-service-sdk */ \"(app-pages-browser)/./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs\"));\n          const methodToEnum = {\n            AWS_MANAGED: _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.RecoveryShareManagement.AWS_MANAGED,\n            USER_MANAGED: _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.RecoveryShareManagement.USER_MANAGED\n          };\n          const recoveryShareManagement = recoveryMethod ? methodToEnum[recoveryMethod] : undefined;\n          resolve(new PaperEmbeddedWalletSdk({\n            advancedOptions: {\n              recoveryShareManagement\n            },\n            clientId: this.options.clientId,\n            chain: \"Ethereum\",\n            styles: this.options.styles,\n            onAuthSuccess: this.options.onAuthSuccess\n          }));\n        } catch (err) {\n          reject(err);\n        }\n      });\n    }\n    return this.paper;\n  }\n  async connect(options) {\n    const paperSDK = await this.getPaperSDK();\n    if (!paperSDK) {\n      throw new Error(\"Paper SDK not initialized\");\n    }\n    const user = await paperSDK.getUser();\n    switch (user.status) {\n      case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_OUT:\n        {\n          let authResult;\n\n          // Show Google popup\n          if (options?.googleLogin) {\n            const arg = options.googleLogin;\n            authResult = await paperSDK.auth.loginWithGoogle(typeof arg === \"object\" ? arg : undefined);\n          }\n\n          // Headless\n          else if (options?.email && options?.otp) {\n            authResult = await paperSDK.auth.verifyPaperEmailLoginOtp({\n              email: options.email,\n              otp: options.otp,\n              recoveryCode: options.recoveryCode\n            });\n          }\n\n          // Show OTP modal\n          else if (options?.email) {\n            authResult = await paperSDK.auth.loginWithPaperEmailOtp({\n              email: options.email\n            });\n          }\n\n          // Show Full Modal\n          else {\n            authResult = await paperSDK.auth.loginWithPaperModal();\n          }\n          this.user = authResult.user;\n          break;\n        }\n      case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_IN_WALLET_INITIALIZED:\n        {\n          if (typeof options?.googleLogin === \"object\") {\n            if (options.googleLogin.closeOpenedWindow && options.googleLogin.openedWindow) {\n              options.googleLogin.closeOpenedWindow(options.googleLogin.openedWindow);\n            }\n          }\n          this.user = user;\n          break;\n        }\n    }\n    if (!this.user) {\n      throw new Error(\"Error connecting User\");\n    }\n    if (options?.chainId) {\n      this.switchChain(options.chainId);\n    }\n    this.setupListeners();\n    return this.getAddress();\n  }\n  async disconnect() {\n    const paper = await this.paper;\n    await paper?.auth.logout();\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _signer, undefined);\n    this.user = null;\n  }\n  async getAddress() {\n    const signer = await this.getSigner();\n    return signer.getAddress();\n  }\n  async isConnected() {\n    try {\n      const addr = await this.getAddress();\n      return !!addr;\n    } catch (e) {\n      return false;\n    }\n  }\n  async getProvider() {\n    const signer = await this.getSigner();\n    if (!signer.provider) {\n      throw new Error(\"Provider not found\");\n    }\n    return signer.provider;\n  }\n  async getSigner() {\n    if ((0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _signer)) {\n      return (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _signer);\n    }\n    if (!this.user) {\n      const paperSDK = await this.getPaperSDK();\n      const user = await paperSDK.getUser();\n      switch (user.status) {\n        case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_IN_WALLET_INITIALIZED:\n          {\n            this.user = user;\n            break;\n          }\n      }\n    }\n    const signer = await this.user?.wallet.getEthersJsSigner({\n      rpcEndpoint: this.options.chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n    });\n\n    if (!signer) {\n      throw new Error(\"Signer not found\");\n    }\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _signer, signer);\n    return signer;\n  }\n  async isAuthorized() {\n    return false;\n  }\n  async switchChain(chainId) {\n    const chain = this.options.chains.find(c => c.chainId === chainId);\n    if (!chain) {\n      throw new Error(\"Chain not configured\");\n    }\n\n    // update chain in wallet\n    await this.user?.wallet.setChain({\n      chain: \"Ethereum\"\n    }); // just pass Ethereum no matter what chain we are going to connect\n\n    // update signer\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _signer, await this.user?.wallet.getEthersJsSigner({\n      rpcEndpoint: chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n    }));\n\n    this.emit(\"change\", {\n      chain: {\n        id: chainId,\n        unsupported: false\n      }\n    });\n  }\n\n  // private getUser() {\n  //   if (!this.user) {\n  //     throw new Error(\"User not found\");\n  //   }\n  //   return this.user;\n  // }\n\n  async setupListeners() {\n    const provider = await this.getProvider();\n    if (provider.on) {\n      provider.on(\"accountsChanged\", this.onAccountsChanged);\n      provider.on(\"chainChanged\", this.onChainChanged);\n      provider.on(\"disconnect\", this.onDisconnect);\n    }\n  }\n  updateChains(chains) {\n    this.options.chains = chains;\n  }\n  async getEmail() {\n    await this.getProvider();\n    if (!this.user) {\n      throw new Error(\"No user found, Paper Wallet is not connected\");\n    }\n    return this.user.authDetails.email;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZXZtL2Nvbm5lY3RvcnMvcGFwZXIvZGlzdC90aGlyZHdlYi1kZXYtd2FsbGV0cy1ldm0tY29ubmVjdG9ycy1wYXBlci5icm93c2VyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0s7QUFDekU7QUFDSDtBQUM3RDtBQUNtRTtBQUNkO0FBQ0E7QUFDN0Q7O0FBRXZCO0FBQ0EsbUNBQW1DLHNFQUFTO0FBQzVDO0FBQ0E7QUFDQSxJQUFJLCtFQUFlLGFBQWEsc0VBQVM7QUFDekMsSUFBSSwrRUFBZTtBQUNuQixJQUFJLCtFQUFlO0FBQ25CLElBQUksK0VBQWU7QUFDbkIsSUFBSSxxRkFBMEI7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLCtFQUFlO0FBQ25CO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxtQkFBbUIsOENBQWdCO0FBQ25DLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxJQUFJLCtFQUFlO0FBQ25CLGlCQUFpQixpRkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxJQUFJLCtFQUFlO0FBQ25CO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUSw0TkFBK0M7QUFDbkU7QUFDQSx5QkFBeUIsMEZBQXVCO0FBQ2hELDBCQUEwQiwwRkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFGQUFxQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRkFBcUI7QUFDN0IsYUFBYSxxRkFBcUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNkVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxRkFBcUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSO0FBQ0EsSUFBSSxxRkFBcUI7QUFDekI7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL3BhcGVyL2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtcGFwZXIuYnJvd3Nlci5lc20uanM/YmMwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIGFzIF9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjLCBhIGFzIF9jbGFzc1ByaXZhdGVGaWVsZFNldCwgYiBhcyBfY2xhc3NQcml2YXRlRmllbGRHZXQgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2NsYXNzUHJpdmF0ZUZpZWxkU2V0LWE1ZGI3YzgzLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9kZWZpbmVQcm9wZXJ0eS1jOGVjZGMwNy5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBSZWNvdmVyeVNoYXJlTWFuYWdlbWVudCwgVXNlclN0YXR1cyB9IGZyb20gJ0BwYXBlcnh5ei9lbWJlZGRlZC13YWxsZXQtc2VydmljZS1zZGsnO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgbiBhcyBub3JtYWxpemVDaGFpbklkIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9ub3JtYWxpemVDaGFpbklkLTFmYjlhZWRmLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IHcgYXMgd2FsbGV0SWRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC93YWxsZXRJZHMtYWZlYjVhZjIuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgQyBhcyBDb25uZWN0b3IgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2Nvbm5lY3Rvci0wNTY4OWQ2OC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuXG52YXIgX3NpZ25lciA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuY2xhc3MgUGFwZXJXYWxsZXRDb25uZWN0b3IgZXh0ZW5kcyBDb25uZWN0b3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZFwiLCB3YWxsZXRJZHMucGFwZXIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJQYXBlciBXYWxsZXRcIik7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZHlcIiwgdHJ1ZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCBudWxsKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyh0aGlzLCBfc2lnbmVyLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkFjY291bnRzQ2hhbmdlZFwiLCBhc3luYyBhY2NvdW50cyA9PiB7XG4gICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGF3YWl0IHRoaXMub25EaXNjb25uZWN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICAgIGFjY291bnQ6IHV0aWxzLmdldEFkZHJlc3MoYWNjb3VudHNbMF0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQ2hhaW5DaGFuZ2VkXCIsIGNoYWluSWQgPT4ge1xuICAgICAgY29uc3QgaWQgPSBub3JtYWxpemVDaGFpbklkKGNoYWluSWQpO1xuICAgICAgY29uc3QgdW5zdXBwb3J0ZWQgPSB0aGlzLm9wdGlvbnMuY2hhaW5zLmZpbmRJbmRleChjID0+IGMuY2hhaW5JZCA9PT0gaWQpID09PSAtMTtcbiAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgIGNoYWluOiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdW5zdXBwb3J0ZWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25EaXNjb25uZWN0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChcImRpc2Nvbm5lY3RcIik7XG4gICAgfSk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBnZXRQYXBlclNESygpIHtcbiAgICBpZiAoIXRoaXMucGFwZXIpIHtcbiAgICAgIHRoaXMucGFwZXIgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY292ZXJ5TWV0aG9kID0gdGhpcy5vcHRpb25zLmFkdmFuY2VkT3B0aW9ucz8ucmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgUGFwZXJFbWJlZGRlZFdhbGxldFNka1xuICAgICAgICAgIH0gPSBhd2FpdCBpbXBvcnQoJ0BwYXBlcnh5ei9lbWJlZGRlZC13YWxsZXQtc2VydmljZS1zZGsnKTtcbiAgICAgICAgICBjb25zdCBtZXRob2RUb0VudW0gPSB7XG4gICAgICAgICAgICBBV1NfTUFOQUdFRDogUmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQuQVdTX01BTkFHRUQsXG4gICAgICAgICAgICBVU0VSX01BTkFHRUQ6IFJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50LlVTRVJfTUFOQUdFRFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQgPSByZWNvdmVyeU1ldGhvZCA/IG1ldGhvZFRvRW51bVtyZWNvdmVyeU1ldGhvZF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgcmVzb2x2ZShuZXcgUGFwZXJFbWJlZGRlZFdhbGxldFNkayh7XG4gICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgcmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5vcHRpb25zLmNsaWVudElkLFxuICAgICAgICAgICAgY2hhaW46IFwiRXRoZXJldW1cIixcbiAgICAgICAgICAgIHN0eWxlczogdGhpcy5vcHRpb25zLnN0eWxlcyxcbiAgICAgICAgICAgIG9uQXV0aFN1Y2Nlc3M6IHRoaXMub3B0aW9ucy5vbkF1dGhTdWNjZXNzXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcGVyO1xuICB9XG4gIGFzeW5jIGNvbm5lY3Qob3B0aW9ucykge1xuICAgIGNvbnN0IHBhcGVyU0RLID0gYXdhaXQgdGhpcy5nZXRQYXBlclNESygpO1xuICAgIGlmICghcGFwZXJTREspIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcGVyIFNESyBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwYXBlclNESy5nZXRVc2VyKCk7XG4gICAgc3dpdGNoICh1c2VyLnN0YXR1cykge1xuICAgICAgY2FzZSBVc2VyU3RhdHVzLkxPR0dFRF9PVVQ6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgYXV0aFJlc3VsdDtcblxuICAgICAgICAgIC8vIFNob3cgR29vZ2xlIHBvcHVwXG4gICAgICAgICAgaWYgKG9wdGlvbnM/Lmdvb2dsZUxvZ2luKSB7XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBvcHRpb25zLmdvb2dsZUxvZ2luO1xuICAgICAgICAgICAgYXV0aFJlc3VsdCA9IGF3YWl0IHBhcGVyU0RLLmF1dGgubG9naW5XaXRoR29vZ2xlKHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgPyBhcmcgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEhlYWRsZXNzXG4gICAgICAgICAgZWxzZSBpZiAob3B0aW9ucz8uZW1haWwgJiYgb3B0aW9ucz8ub3RwKSB7XG4gICAgICAgICAgICBhdXRoUmVzdWx0ID0gYXdhaXQgcGFwZXJTREsuYXV0aC52ZXJpZnlQYXBlckVtYWlsTG9naW5PdHAoe1xuICAgICAgICAgICAgICBlbWFpbDogb3B0aW9ucy5lbWFpbCxcbiAgICAgICAgICAgICAgb3RwOiBvcHRpb25zLm90cCxcbiAgICAgICAgICAgICAgcmVjb3ZlcnlDb2RlOiBvcHRpb25zLnJlY292ZXJ5Q29kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2hvdyBPVFAgbW9kYWxcbiAgICAgICAgICBlbHNlIGlmIChvcHRpb25zPy5lbWFpbCkge1xuICAgICAgICAgICAgYXV0aFJlc3VsdCA9IGF3YWl0IHBhcGVyU0RLLmF1dGgubG9naW5XaXRoUGFwZXJFbWFpbE90cCh7XG4gICAgICAgICAgICAgIGVtYWlsOiBvcHRpb25zLmVtYWlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTaG93IEZ1bGwgTW9kYWxcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF1dGhSZXN1bHQgPSBhd2FpdCBwYXBlclNESy5hdXRoLmxvZ2luV2l0aFBhcGVyTW9kYWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy51c2VyID0gYXV0aFJlc3VsdC51c2VyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFVzZXJTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRDpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8uZ29vZ2xlTG9naW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmdvb2dsZUxvZ2luLmNsb3NlT3BlbmVkV2luZG93ICYmIG9wdGlvbnMuZ29vZ2xlTG9naW4ub3BlbmVkV2luZG93KSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZ29vZ2xlTG9naW4uY2xvc2VPcGVuZWRXaW5kb3cob3B0aW9ucy5nb29nbGVMb2dpbi5vcGVuZWRXaW5kb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy51c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb25uZWN0aW5nIFVzZXJcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5jaGFpbklkKSB7XG4gICAgICB0aGlzLnN3aXRjaENoYWluKG9wdGlvbnMuY2hhaW5JZCk7XG4gICAgfVxuICAgIHRoaXMuc2V0dXBMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5nZXRBZGRyZXNzKCk7XG4gIH1cbiAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICBjb25zdCBwYXBlciA9IGF3YWl0IHRoaXMucGFwZXI7XG4gICAgYXdhaXQgcGFwZXI/LmF1dGgubG9nb3V0KCk7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9zaWduZXIsIHVuZGVmaW5lZCk7XG4gICAgdGhpcy51c2VyID0gbnVsbDtcbiAgfVxuICBhc3luYyBnZXRBZGRyZXNzKCkge1xuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVyKCk7XG4gICAgcmV0dXJuIHNpZ25lci5nZXRBZGRyZXNzKCk7XG4gIH1cbiAgYXN5bmMgaXNDb25uZWN0ZWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkZHIgPSBhd2FpdCB0aGlzLmdldEFkZHJlc3MoKTtcbiAgICAgIHJldHVybiAhIWFkZHI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRQcm92aWRlcigpIHtcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCB0aGlzLmdldFNpZ25lcigpO1xuICAgIGlmICghc2lnbmVyLnByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIHJldHVybiBzaWduZXIucHJvdmlkZXI7XG4gIH1cbiAgYXN5bmMgZ2V0U2lnbmVyKCkge1xuICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3NpZ25lcikpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3NpZ25lcik7XG4gICAgfVxuICAgIGlmICghdGhpcy51c2VyKSB7XG4gICAgICBjb25zdCBwYXBlclNESyA9IGF3YWl0IHRoaXMuZ2V0UGFwZXJTREsoKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwYXBlclNESy5nZXRVc2VyKCk7XG4gICAgICBzd2l0Y2ggKHVzZXIuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgVXNlclN0YXR1cy5MT0dHRURfSU5fV0FMTEVUX0lOSVRJQUxJWkVEOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHRoaXMudXNlcj8ud2FsbGV0LmdldEV0aGVyc0pzU2lnbmVyKHtcbiAgICAgIHJwY0VuZHBvaW50OiB0aGlzLm9wdGlvbnMuY2hhaW4ucnBjWzBdIHx8IFwiXCIgLy8gVE9ETzogaGFuZGxlIGNoYWluLnJwYyBiZWluZyBlbXB0eSBhcnJheVxuICAgIH0pO1xuXG4gICAgaWYgKCFzaWduZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpZ25lciBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc2lnbmVyLCBzaWduZXIpO1xuICAgIHJldHVybiBzaWduZXI7XG4gIH1cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhc3luYyBzd2l0Y2hDaGFpbihjaGFpbklkKSB7XG4gICAgY29uc3QgY2hhaW4gPSB0aGlzLm9wdGlvbnMuY2hhaW5zLmZpbmQoYyA9PiBjLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoYWluIG5vdCBjb25maWd1cmVkXCIpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBjaGFpbiBpbiB3YWxsZXRcbiAgICBhd2FpdCB0aGlzLnVzZXI/LndhbGxldC5zZXRDaGFpbih7XG4gICAgICBjaGFpbjogXCJFdGhlcmV1bVwiXG4gICAgfSk7IC8vIGp1c3QgcGFzcyBFdGhlcmV1bSBubyBtYXR0ZXIgd2hhdCBjaGFpbiB3ZSBhcmUgZ29pbmcgdG8gY29ubmVjdFxuXG4gICAgLy8gdXBkYXRlIHNpZ25lclxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc2lnbmVyLCBhd2FpdCB0aGlzLnVzZXI/LndhbGxldC5nZXRFdGhlcnNKc1NpZ25lcih7XG4gICAgICBycGNFbmRwb2ludDogY2hhaW4ucnBjWzBdIHx8IFwiXCIgLy8gVE9ETzogaGFuZGxlIGNoYWluLnJwYyBiZWluZyBlbXB0eSBhcnJheVxuICAgIH0pKTtcblxuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICBjaGFpbjoge1xuICAgICAgICBpZDogY2hhaW5JZCxcbiAgICAgICAgdW5zdXBwb3J0ZWQ6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBwcml2YXRlIGdldFVzZXIoKSB7XG4gIC8vICAgaWYgKCF0aGlzLnVzZXIpIHtcbiAgLy8gICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGZvdW5kXCIpO1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gdGhpcy51c2VyO1xuICAvLyB9XG5cbiAgYXN5bmMgc2V0dXBMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgaWYgKHByb3ZpZGVyLm9uKSB7XG4gICAgICBwcm92aWRlci5vbihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgIHByb3ZpZGVyLm9uKFwiY2hhaW5DaGFuZ2VkXCIsIHRoaXMub25DaGFpbkNoYW5nZWQpO1xuICAgICAgcHJvdmlkZXIub24oXCJkaXNjb25uZWN0XCIsIHRoaXMub25EaXNjb25uZWN0KTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlQ2hhaW5zKGNoYWlucykge1xuICAgIHRoaXMub3B0aW9ucy5jaGFpbnMgPSBjaGFpbnM7XG4gIH1cbiAgYXN5bmMgZ2V0RW1haWwoKSB7XG4gICAgYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGlmICghdGhpcy51c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGZvdW5kLCBQYXBlciBXYWxsZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXNlci5hdXRoRGV0YWlscy5lbWFpbDtcbiAgfVxufVxuXG5leHBvcnQgeyBQYXBlcldhbGxldENvbm5lY3RvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@thirdweb-dev/wallets/evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_TOKEN_LOCAL_STORAGE_NAME: function() { return /* binding */ I; },\n/* harmony export */   AuthProvider: function() { return /* binding */ Y; },\n/* harmony export */   DEVICE_SHARE_LOCAL_STORAGE_NAME: function() { return /* binding */ W; },\n/* harmony export */   DEVICE_SHARE_LOCAL_STORAGE_NAME_DEPRECATED: function() { return /* binding */ X; },\n/* harmony export */   PaperEmbeddedWalletSdk: function() { return /* binding */ N; },\n/* harmony export */   RecoveryShareManagement: function() { return /* binding */ w; },\n/* harmony export */   UserStatus: function() { return /* binding */ H; },\n/* harmony export */   UserWalletStatus: function() { return /* binding */ P; },\n/* harmony export */   WALLET_USER_DETAILS_LOCAL_STORAGE_NAME: function() { return /* binding */ J; },\n/* harmony export */   WALLET_USER_ID_LOCAL_STORAGE_NAME: function() { return /* binding */ L; }\n/* harmony export */ });\n/* harmony import */ var _paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @paperxyz/sdk-common-utilities */ \"(app-pages-browser)/./node_modules/@paperxyz/sdk-common-utilities/dist/index.mjs\");\n/* harmony import */ var _ethersproject_providers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ethersproject/providers */ \"(app-pages-browser)/./node_modules/@ethersproject/providers/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethersproject/abstract-signer */ \"(app-pages-browser)/./node_modules/@ethersproject/abstract-signer/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ethersproject/properties */ \"(app-pages-browser)/./node_modules/@ethersproject/properties/lib.esm/index.js\");\nvar z=Object.defineProperty,q=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var k=(s,e,t)=>e in s?z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,u=(s,e)=>{for(var t in e||(e={}))$.call(e,t)&&k(s,t,e[t]);if(x)for(var t of x(e))B.call(e,t)&&k(s,t,e[t]);return s},y=(s,e)=>q(s,Z(e));var i=(s,e,t)=>new Promise((r,a)=>{var o=l=>{try{d(t.next(l))}catch(p){a(p)}},n=l=>{try{d(t.throw(l))}catch(p){a(p)}},d=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,n);d((t=t.apply(s,e)).next())});var E=\"/sdk/2022-08-12/embedded-wallet\",de=`${E}/auth/headless-google-login-managed`,J=s=>`paperEwsWalletUserDetails-${s}`,L=s=>`paperEwsWalletUserId-${s}`,K=\"walletToken\",I=s=>`${K}-${s}`,Q=\"a\",W=(s,e)=>`${Q}-${s}-${e}`,X=s=>`${Q}-${s}`;var w=(t=>(t.USER_MANAGED=\"USER_MANAGED\",t.AWS_MANAGED=\"AWS_MANAGED\",t))(w||{}),Y=(n=>(n.PAPER_EMAIL_OTP=\"PaperEmailOTP\",n.GOOGLE=\"Google\",n.TWITTER=\"Twitter\",n.COGNITO=\"Cognito\",n.AUTH0=\"Auth0\",n.CUSTOM_JWT=\"CustomJWT\",n))(Y||{});var H=(t=>(t.LOGGED_OUT=\"Logged Out\",t.LOGGED_IN_WALLET_INITIALIZED=\"Logged In, Wallet Initialized\",t))(H||{}),P=(a=>(a.LOGGED_OUT=\"Logged Out\",a.LOGGED_IN_WALLET_UNINITIALIZED=\"Logged In, Wallet Uninitialized\",a.LOGGED_IN_NEW_DEVICE=\"Logged In, New Device\",a.LOGGED_IN_WALLET_INITIALIZED=\"Logged In, Wallet Initialized\",a))(P||{});var F=new Map,h=class{constructor({clientId:e}){this.isSupported=typeof window!=\"undefined\"&&!!window.localStorage,this.clientId=e}getItem(e){return i(this,null,function*(){var t;return this.isSupported?window.localStorage.getItem(e):(t=F.get(e))!=null?t:null})}setItem(e,t){return i(this,null,function*(){if(this.isSupported)return window.localStorage.setItem(e,t);F.set(e,t)})}removeItem(e){return i(this,null,function*(){let t=yield this.getItem(e);return this.isSupported&&t?(window.localStorage.removeItem(e),!0):!1})}saveAuthCookie(e){return i(this,null,function*(){yield this.setItem(I(this.clientId),e)})}getAuthCookie(){return i(this,null,function*(){return this.getItem(I(this.clientId))})}removeAuthCookie(){return i(this,null,function*(){return this.removeItem(I(this.clientId))})}saveDeviceShare(e,t){return i(this,null,function*(){yield this.saveWalletUserId(t),yield this.setItem(W(this.clientId,t),e)})}getDeviceShare(){return i(this,null,function*(){let e=yield this.getWalletUserId();return e?this.getItem(W(this.clientId,e)):null})}removeDeviceShare(){return i(this,null,function*(){let e=yield this.getWalletUserId();return e?this.removeItem(W(this.clientId,e)):!1})}getWalletUserId(){return i(this,null,function*(){return this.getItem(L(this.clientId))})}saveWalletUserId(e){return i(this,null,function*(){yield this.setItem(L(this.clientId),e)})}removeWalletUserId(){return i(this,null,function*(){return this.removeItem(L(this.clientId))})}};function v(s){return new Promise(e=>{setTimeout(e,s*1e3)})}var ee={height:\"100%\",width:\"100%\",border:\"none\",backgroundColor:\"transparent\",colorScheme:\"light\",position:\"fixed\",top:\"0px\",right:\"0px\",zIndex:\"2147483646\",display:\"none\"},G=new Map,f=class{constructor({link:e,iframeId:t,container:r=document.body,iframeStyles:a,onIframeInitialize:o}){this.POLLING_INTERVAL_SECONDS=1.4;this.POST_LOAD_BUFFER_SECONDS=1;let n=document.getElementById(t),d=new URL(e),l=\"1.2.5\";if(!l)throw new Error(\"Missing SDK_VERSION env var\");if(d.searchParams.set(\"sdkVersion\",l),!n||n.src!=d.href){if(!n){n=document.createElement(\"iframe\");let p=u(u({},ee),a);Object.assign(n.style,p),n.setAttribute(\"id\",t),n.setAttribute(\"fetchpriority\",\"high\"),r.appendChild(n)}n.src=d.href,n.setAttribute(\"data-version\",l),n.onload=this.onIframeLoadHandler(n,this.POST_LOAD_BUFFER_SECONDS,o)}this.iframe=n}onIframeLoadedInitVariables(){return i(this,null,function*(){return{}})}onIframeLoadHandler(e,t,r){return()=>i(this,null,function*(){yield new Promise((o,n)=>i(this,null,function*(){var p;let d=new MessageChannel;d.port1.onmessage=m=>{let{data:c}=m;return d.port1.close(),c.success?(G.set(e.src,!0),r&&r(),o(!0)):n(new Error(c.error))},yield v(t);let l=\"initIframe\";(p=e==null?void 0:e.contentWindow)==null||p.postMessage({eventType:l,data:yield this.onIframeLoadedInitVariables()},`${(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()}${E}`,[d.port2])}))})}call(o){return i(this,arguments,function*({procedureName:e,params:t,showIframe:r=!1,injectRecoveryCode:a={isInjectRecoveryCode:!1}}){for(;!G.get(this.iframe.src);)yield v(this.POLLING_INTERVAL_SECONDS);return r&&(this.iframe.style.display=\"block\",yield v(.005)),new Promise((d,l)=>{var m;if(a.isInjectRecoveryCode){let c=g=>i(this,null,function*(){var U,b;if(g.origin!==(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()||g.data.type!==\"paper_getRecoveryCode\"||typeof g.data.userWalletId!=\"string\")return;let V=yield(U=a.getRecoveryCode)==null?void 0:U.call(a,g.data.userWalletId);(b=this.iframe.contentWindow)==null||b.postMessage({type:\"paper_getRecoveryCode_response\",recoveryCode:V},(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()),window.removeEventListener(\"message\",c)});window.addEventListener(\"message\",c)}let p=new MessageChannel;p.port1.onmessage=c=>i(this,null,function*(){let{data:g}=c;p.port1.close(),r&&(yield v(.1),this.iframe.style.display=\"none\"),g.success?d(g.data):l(new Error(g.error))}),(m=this.iframe.contentWindow)==null||m.postMessage({eventType:e,data:t},`${(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()}${E}`,[p.port2])})})}destroy(){G.delete(this.iframe.src)}};var _=class extends f{constructor({clientId:t,customizationOptions:r}){super({iframeId:ie,link:re({clientId:t,path:E,queryParams:r}).href,container:document.body});this.clientId=t}onIframeLoadedInitVariables(){return i(this,null,function*(){let t=new h({clientId:this.clientId});return{authCookie:yield t.getAuthCookie(),deviceShareStored:yield t.getDeviceShare(),walletUserId:yield t.getWalletUserId(),clientId:this.clientId}})}};function re({clientId:s,path:e,queryParams:t}){var a;let r=new URL(e,(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)());if(t)for(let o of Object.keys(t))r.searchParams.set(o,((a=t[o])==null?void 0:a.toString())||\"\");return r.searchParams.set(\"clientId\",s),r}var ie=\"paper-embedded-wallet-iframe\";var A=class{constructor({querier:e,preLogin:t,postLogin:r,clientId:a}){this.LoginQuerier=e,this.preLogin=t,this.postLogin=r,this.clientId=a}sendPaperEmailLoginOtp(r){return i(this,arguments,function*({email:e,recoveryShareManagement:t}){yield this.preLogin();let{isNewUser:a,isNewDevice:o,recoveryShareManagement:n}=yield this.LoginQuerier.call({procedureName:\"sendPaperEmailLoginOtp\",params:{email:e,recoveryShareManagement:t}});return{isNewUser:a,isNewDevice:o,recoveryShareManagement:n}})}};var C=class extends A{constructor(){super(...arguments);this.closeWindow=({isWindowOpenedByFn:t,win:r,closeOpenedWindow:a})=>{t?r==null||r.close():r&&a?a(r):r&&r.close()}}loginWithPaperModal(){return i(this,null,function*(){yield this.preLogin();let t=yield this.LoginQuerier.call({procedureName:\"loginWithPaperModal\",params:{recoveryShareManagement:\"AWS_MANAGED\"},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(t)})}getGoogleLoginUrl(){return i(this,null,function*(){return yield this.LoginQuerier.call({procedureName:\"getHeadlessGoogleLoginLink\",params:void 0})})}loginWithGoogle(t){return i(this,null,function*(){yield this.preLogin();let r=t==null?void 0:t.openedWindow,a=!1;if(r||(r=window.open(\"\",\"Login\",\"width=350, height=500\"),a=!0),!r)throw new Error(\"Something went wrong opening pop-up\");yield this.preLogin();let{loginLink:o}=yield this.getGoogleLoginUrl();r.location.href=o;let n=yield new Promise((d,l)=>{let p=window.setInterval(()=>i(this,null,function*(){r&&r.closed&&(clearInterval(p),window.removeEventListener(\"message\",m),l(new Error(\"User closed login window\")))}),1e3),m=c=>i(this,null,function*(){if(c.origin===(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()){if(typeof c.data!=\"object\"){l(new Error(\"Invalid event data\"));return}switch(c.data.eventType){case\"userLoginSuccess\":{window.removeEventListener(\"message\",m),clearInterval(p),this.closeWindow({isWindowOpenedByFn:a,win:r,closeOpenedWindow:t==null?void 0:t.closeOpenedWindow}),c.data.authResult&&d(c.data.authResult);break}case\"userLoginFailed\":{window.removeEventListener(\"message\",m),clearInterval(p),this.closeWindow({isWindowOpenedByFn:a,win:r,closeOpenedWindow:t==null?void 0:t.closeOpenedWindow}),l(new Error(c.data.error));break}case\"injectDeveloperClientId\":{r==null||r.postMessage({eventType:\"injectDeveloperClientIdResult\",developerClientId:this.clientId},(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)());break}}}});window.addEventListener(\"message\",m)});return this.postLogin({storedToken:y(u({},n.storedToken),{shouldStoreCookieString:!0}),walletDetails:y(u({},n.walletDetails),{isIframeStorageEnabled:!1})})})}loginWithPaperEmailOtp(r){return i(this,arguments,function*({email:t}){yield this.preLogin();let a=yield this.LoginQuerier.call({procedureName:\"loginWithPaperModal\",params:{email:t,recoveryShareManagement:\"AWS_MANAGED\"},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(a)})}verifyPaperEmailLoginOtp(a){return i(this,arguments,function*({email:t,otp:r}){let o=yield this.LoginQuerier.call({procedureName:\"verifyPaperEmailLoginOtp\",params:{email:t,otp:r,recoveryShareManagement:\"AWS_MANAGED\"},injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(o)})}};var D=class extends A{loginWithPaperModal(e){return i(this,null,function*(){yield this.preLogin();let t=yield this.LoginQuerier.call({procedureName:\"loginWithPaperModal\",params:void 0,showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0,getRecoveryCode:e==null?void 0:e.getRecoveryCode}});return this.postLogin(t)})}loginWithGoogle(e){return i(this,null,function*(){throw new Error(\"loginWithGoogle is not yet supported in the RecoveryShareManagement.USER_MANAGED flow. Please use RecoveryShareManagement.AWS_MANAGED instead.\")})}loginWithPaperEmailOtp(r){return i(this,arguments,function*({email:e,recoveryCode:t}){yield this.preLogin();let a=yield this.LoginQuerier.call({procedureName:\"loginWithPaperModal\",params:{email:e,recoveryCode:t},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(a)})}verifyPaperEmailLoginOtp(a){return i(this,arguments,function*({email:e,otp:t,recoveryCode:r}){let o=yield this.LoginQuerier.call({procedureName:\"verifyPaperEmailLoginOtp\",params:{email:e,otp:t,recoveryCode:r},injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(o)})}};var M=class{constructor({clientId:e,advancedOptions:t,querier:r,onAuthSuccess:a}){var o;this.clientId=e,this.advancedOptions={recoveryShareManagement:(o=t==null?void 0:t.recoveryShareManagement)!=null?o:\"AWS_MANAGED\"},this.AuthQuerier=r,this.localStorage=new h({clientId:e}),this.onAuthSuccess=a,this.userManagedLogin=new D({postLogin:n=>i(this,null,function*(){return this.postLogin(n)}),preLogin:()=>i(this,null,function*(){yield this.preLogin()}),querier:r,clientId:e}),this.awsManagedLogin=new C({postLogin:n=>i(this,null,function*(){return this.postLogin(n)}),preLogin:()=>i(this,null,function*(){yield this.preLogin()}),querier:r,clientId:e})}preLogin(){return i(this,null,function*(){yield this.logout()})}postLogin(r){return i(this,arguments,function*({storedToken:e,walletDetails:t}){return e.shouldStoreCookieString&&(yield this.localStorage.saveAuthCookie(e.cookieString)),yield this.onAuthSuccess({storedToken:e,walletDetails:t})})}loginWithJwtAuth(a){return i(this,arguments,function*({token:e,authProvider:t,recoveryCode:r}){yield this.preLogin();let o=yield this.AuthQuerier.call({procedureName:\"loginWithJwtAuthCallback\",params:{token:e,authProvider:t,recoveryCode:r}});return this.postLogin(o)})}loginWithPaperModal(e){return i(this,null,function*(){return yield this.preLogin(),this.advancedOptions.recoveryShareManagement===\"AWS_MANAGED\"?this.awsManagedLogin.loginWithPaperModal():this.userManagedLogin.loginWithPaperModal(e)})}loginWithPaperEmailOtp(e){return i(this,null,function*(){return this.advancedOptions.recoveryShareManagement===\"AWS_MANAGED\"?this.awsManagedLogin.loginWithPaperEmailOtp({email:e.email}):this.userManagedLogin.loginWithPaperEmailOtp(e)})}loginWithGoogle(e){return i(this,null,function*(){return this.advancedOptions.recoveryShareManagement===\"AWS_MANAGED\"?this.awsManagedLogin.loginWithGoogle(e):this.userManagedLogin.loginWithGoogle()})}sendPaperEmailLoginOtp(t){return i(this,arguments,function*({email:e}){return this.advancedOptions.recoveryShareManagement===\"AWS_MANAGED\"?this.awsManagedLogin.sendPaperEmailLoginOtp({email:e,recoveryShareManagement:\"AWS_MANAGED\"}):this.userManagedLogin.sendPaperEmailLoginOtp({email:e})})}verifyPaperEmailLoginOtp(e){return i(this,null,function*(){return this.advancedOptions.recoveryShareManagement===\"AWS_MANAGED\"?this.awsManagedLogin.verifyPaperEmailLoginOtp(e):this.userManagedLogin.verifyPaperEmailLoginOtp(e)})}logout(){return i(this,null,function*(){let{success:e}=yield this.AuthQuerier.call({procedureName:\"logout\",params:void 0}),t=yield this.localStorage.removeAuthCookie(),r=yield this.localStorage.removeWalletUserId();return{success:e||t||r}})}};var R=class{constructor({chain:e,clientId:t,querier:r}){this.chain=e,this.clientId=t,this.gaslessTransactionQuerier=r}callContract(a){return i(this,arguments,function*({contractAddress:e,methodArgs:t,methodInterface:r}){return yield this.gaslessTransactionQuerier.call({procedureName:\"callContract\",params:{chain:this.chain,contractAddress:e,method:{args:t,stub:r}}})})}};var T=class extends _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_1__.Signer{constructor({provider:t,clientId:r,querier:a}){var o;super();this.DEFAULT_ETHEREUM_CHAIN_ID=5;this.clientId=r,this.querier=a,this.endpoint=(o=t.connection)==null?void 0:o.url,(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,\"provider\",t)}getAddress(){return i(this,null,function*(){let{address:t}=yield this.querier.call({procedureName:\"getAddress\",params:void 0});return t})}signMessage(t){return i(this,null,function*(){var o,n,d,l;let r=yield(o=this.provider)==null?void 0:o.getNetwork();r&&r._defaultProvider;let{signedMessage:a}=yield this.querier.call({procedureName:\"signMessage\",params:{message:t,chainId:(l=(d=yield(n=this.provider)==null?void 0:n.getNetwork())==null?void 0:d.chainId)!=null?l:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return a})}signTransaction(t){return i(this,null,function*(){var a,o,n;let{signedTransaction:r}=yield this.querier.call({procedureName:\"signTransaction\",params:{transaction:t,chainId:(n=(o=yield(a=this.provider)==null?void 0:a.getNetwork())==null?void 0:o.chainId)!=null?n:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return r})}_signTypedData(t,r,a){return i(this,null,function*(){var n,d,l;let{signedTypedData:o}=yield this.querier.call({procedureName:\"signTypedDataV4\",params:{domain:t,types:r,message:a,chainId:(l=(d=yield(n=this.provider)==null?void 0:n.getNetwork())==null?void 0:d.chainId)!=null?l:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return o})}connect(t){return new T({clientId:this.clientId,provider:t,querier:this.querier})}};var O=class{constructor({clientId:e,chain:t,querier:r}){this.clientId=e,this.chain=t,this.walletManagerQuerier=r,this.gasless=new R({chain:t,clientId:e,querier:r}),this.localStorage=new h({clientId:e})}postWalletSetUp(o){return i(this,arguments,function*({deviceShareStored:e,walletAddress:t,isIframeStorageEnabled:r,walletUserId:a}){return r||(yield this.localStorage.saveDeviceShare(e,a)),{walletAddress:t}})}getUserWalletStatus(){return i(this,null,function*(){let e=yield this.walletManagerQuerier.call({procedureName:\"getUserStatus\",params:void 0});return e.status===\"Logged In, Wallet Initialized\"?{status:\"Logged In, Wallet Initialized\",user:y(u({},e.user),{wallet:this})}:e})}setChain(t){return i(this,arguments,function*({chain:e}){this.chain=e,this.gasless=new R({chain:e,clientId:this.clientId,querier:this.walletManagerQuerier})})}getEthersJsSigner(e){return i(this,null,function*(){var r;return new T({clientId:this.clientId,provider:(0,_ethersproject_providers__WEBPACK_IMPORTED_MODULE_3__.getDefaultProvider)((r=e==null?void 0:e.rpcEndpoint)!=null?r:_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.ChainToPublicRpc[this.chain]),querier:this.walletManagerQuerier})})}};var N=class{constructor({clientId:e,chain:t,styles:r,advancedOptions:a,onAuthSuccess:o}){this.clientId=e,this.querier=new _({clientId:e,customizationOptions:r}),this.wallet=new O({clientId:e,chain:t,querier:this.querier}),this.auth=new M({clientId:e,advancedOptions:u({recoveryShareManagement:\"USER_MANAGED\"},a!=null?a:{}),querier:this.querier,onAuthSuccess:n=>i(this,null,function*(){return yield this.wallet.postWalletSetUp(y(u({},n.walletDetails),{walletUserId:n.storedToken.authDetails.userWalletId})),yield this.querier.call({procedureName:\"initIframe\",params:{deviceShareStored:n.walletDetails.deviceShareStored,clientId:this.clientId,walletUserId:n.storedToken.authDetails.userWalletId,authCookie:n.storedToken.cookieString}}),o==null||o(n),{user:{status:\"Logged In, Wallet Initialized\",authDetails:n.storedToken.authDetails,wallet:this.wallet,walletAddress:n.walletDetails.walletAddress}}})})}getUser(){return i(this,null,function*(){let e=yield this.wallet.getUserWalletStatus();switch(e.status){case\"Logged In, New Device\":case\"Logged In, Wallet Uninitialized\":return yield this.auth.logout(),this.getUser();case\"Logged Out\":return{status:\"Logged Out\"};case\"Logged In, Wallet Initialized\":return u({status:\"Logged In, Wallet Initialized\"},e.user)}})}};\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcGFwZXJ4eXovZW1iZWRkZWQtd2FsbGV0LXNlcnZpY2Utc2RrL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0RBQXNELHVDQUF1QyxtQ0FBbUMsOEVBQThFLDZCQUE2QixrREFBa0QsbUJBQW1CLHFCQUFxQiwyQkFBMkIsZ0RBQWdELFNBQVMsb0JBQW9CLG1DQUFtQyxVQUFVLElBQUksYUFBYSxTQUFTLE1BQU0sT0FBTyxJQUFJLGNBQWMsU0FBUyxNQUFNLDJEQUEyRCwyQkFBMkIsRUFBRSw4Q0FBOEMsRUFBRSx1RUFBdUUsRUFBRSwrQkFBK0IsRUFBRSwwQkFBMEIsRUFBRSxHQUFHLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLEVBQUUsOEVBQThFLHVKQUF1SixFQUFFLDZHQUE2Ryw2TkFBNk4sRUFBc0Usc0JBQXNCLGFBQWEsV0FBVyxFQUFFLG1GQUFtRixXQUFXLCtCQUErQixNQUFNLGlGQUFpRixFQUFFLGFBQWEsK0JBQStCLDREQUE0RCxXQUFXLEVBQUUsY0FBYywrQkFBK0IsNEJBQTRCLHFFQUFxRSxFQUFFLGtCQUFrQiwrQkFBK0IsdUNBQXVDLEVBQUUsZ0JBQWdCLCtCQUErQixzQ0FBc0MsRUFBRSxtQkFBbUIsK0JBQStCLHlDQUF5QyxFQUFFLHFCQUFxQiwrQkFBK0Isd0VBQXdFLEVBQUUsaUJBQWlCLCtCQUErQixtQ0FBbUMsK0NBQStDLEVBQUUsb0JBQW9CLCtCQUErQixtQ0FBbUMsZ0RBQWdELEVBQUUsa0JBQWtCLCtCQUErQixzQ0FBc0MsRUFBRSxvQkFBb0IsK0JBQStCLHVDQUF1QyxFQUFFLHFCQUFxQiwrQkFBK0IseUNBQXlDLElBQXVFLGNBQWMsdUJBQXVCLG9CQUFvQixFQUFFLFFBQVEscUtBQXFLLG1CQUFtQixhQUFhLGdGQUFnRixFQUFFLGtDQUFrQyxnQ0FBZ0Msd0RB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LDBEQUEwRCxpQkFBaUIsRUFBRSxzQkFBc0IsK0JBQStCLDRDQUE0Qyw0Q0FBNEMsRUFBRSxtREFBbUQsa0RBQWtELFVBQVUsWUFBWSxFQUFFLEdBQUcsRUFBRSxZQUFZLG1DQUFtQyxRQUFRLEVBQUUsaUNBQWlDLGlFQUFpRSxFQUFFLEVBQUUscUJBQXFCLCtCQUErQixNQUFNLGNBQWMsZ0NBQWdDLDRFQUFFLDBDQUEwQyw0RUFBRSxnREFBZ0QsRUFBRSxJQUFJLFlBQVksYUFBYSw4REFBOEQsRUFBRSxvQ0FBb0Msa0NBQWtDLHFCQUFxQix3Q0FBd0MsbUJBQW1CLDhCQUE4Qix1Q0FBdUMsYUFBYSxnRUFBZ0UsK0NBQStDLG1CQUFtQixvREFBb0QsNEJBQTRCLG1DQUFtQyxzS0FBc0ssaUJBQWlCLE1BQU0sOElBQThJLEVBQUUsRUFBRSxVQUFVLCtCQUErQiw4Q0FBOEMsaUJBQWlCLGlIQUFpSCx3QkFBd0IscUJBQXFCLDhDQUE4Qyx1Q0FBdUMsVUFBVSxJQUF3VTtBQUN0L2lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcGFwZXJ4eXovZW1iZWRkZWQtd2FsbGV0LXNlcnZpY2Utc2RrL2Rpc3QvaW5kZXgubWpzPzYwYjkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHo9T2JqZWN0LmRlZmluZVByb3BlcnR5LHE9T2JqZWN0LmRlZmluZVByb3BlcnRpZXM7dmFyIFo9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIHg9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgJD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEI9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgaz0ocyxlLHQpPT5lIGluIHM/eihzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpzW2VdPXQsdT0ocyxlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpJC5jYWxsKGUsdCkmJmsocyx0LGVbdF0pO2lmKHgpZm9yKHZhciB0IG9mIHgoZSkpQi5jYWxsKGUsdCkmJmsocyx0LGVbdF0pO3JldHVybiBzfSx5PShzLGUpPT5xKHMsWihlKSk7dmFyIGk9KHMsZSx0KT0+bmV3IFByb21pc2UoKHIsYSk9Pnt2YXIgbz1sPT57dHJ5e2QodC5uZXh0KGwpKX1jYXRjaChwKXthKHApfX0sbj1sPT57dHJ5e2QodC50aHJvdyhsKSl9Y2F0Y2gocCl7YShwKX19LGQ9bD0+bC5kb25lP3IobC52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGwudmFsdWUpLnRoZW4obyxuKTtkKCh0PXQuYXBwbHkocyxlKSkubmV4dCgpKX0pO3ZhciBFPVwiL3Nkay8yMDIyLTA4LTEyL2VtYmVkZGVkLXdhbGxldFwiLGRlPWAke0V9L2F1dGgvaGVhZGxlc3MtZ29vZ2xlLWxvZ2luLW1hbmFnZWRgLEo9cz0+YHBhcGVyRXdzV2FsbGV0VXNlckRldGFpbHMtJHtzfWAsTD1zPT5gcGFwZXJFd3NXYWxsZXRVc2VySWQtJHtzfWAsSz1cIndhbGxldFRva2VuXCIsST1zPT5gJHtLfS0ke3N9YCxRPVwiYVwiLFc9KHMsZSk9PmAke1F9LSR7c30tJHtlfWAsWD1zPT5gJHtRfS0ke3N9YDt2YXIgdz0odD0+KHQuVVNFUl9NQU5BR0VEPVwiVVNFUl9NQU5BR0VEXCIsdC5BV1NfTUFOQUdFRD1cIkFXU19NQU5BR0VEXCIsdCkpKHd8fHt9KSxZPShuPT4obi5QQVBFUl9FTUFJTF9PVFA9XCJQYXBlckVtYWlsT1RQXCIsbi5HT09HTEU9XCJHb29nbGVcIixuLlRXSVRURVI9XCJUd2l0dGVyXCIsbi5DT0dOSVRPPVwiQ29nbml0b1wiLG4uQVVUSDA9XCJBdXRoMFwiLG4uQ1VTVE9NX0pXVD1cIkN1c3RvbUpXVFwiLG4pKShZfHx7fSk7dmFyIEg9KHQ9Pih0LkxPR0dFRF9PVVQ9XCJMb2dnZWQgT3V0XCIsdC5MT0dHRURfSU5fV0FMTEVUX0lOSVRJQUxJWkVEPVwiTG9nZ2VkIEluLCBXYWxsZXQgSW5pdGlhbGl6ZWRcIix0KSkoSHx8e30pLFA9KGE9PihhLkxPR0dFRF9PVVQ9XCJMb2dnZWQgT3V0XCIsYS5MT0dHRURfSU5fV0FMTEVUX1VOSU5JVElBTElaRUQ9XCJMb2dnZWQgSW4sIFdhbGxldCBVbmluaXRpYWxpemVkXCIsYS5MT0dHRURfSU5fTkVXX0RFVklDRT1cIkxvZ2dlZCBJbiwgTmV3IERldmljZVwiLGEuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRD1cIkxvZ2dlZCBJbiwgV2FsbGV0IEluaXRpYWxpemVkXCIsYSkpKFB8fHt9KTtpbXBvcnR7Z2V0UGFwZXJPcmlnaW5VcmwgYXMgdGV9ZnJvbVwiQHBhcGVyeHl6L3Nkay1jb21tb24tdXRpbGl0aWVzXCI7dmFyIEY9bmV3IE1hcCxoPWNsYXNze2NvbnN0cnVjdG9yKHtjbGllbnRJZDplfSl7dGhpcy5pc1N1cHBvcnRlZD10eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiJiYhIXdpbmRvdy5sb2NhbFN0b3JhZ2UsdGhpcy5jbGllbnRJZD1lfWdldEl0ZW0oZSl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciB0O3JldHVybiB0aGlzLmlzU3VwcG9ydGVkP3dpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKToodD1GLmdldChlKSkhPW51bGw/dDpudWxsfSl9c2V0SXRlbShlLHQpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLmlzU3VwcG9ydGVkKXJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KTtGLnNldChlLHQpfSl9cmVtb3ZlSXRlbShlKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9eWllbGQgdGhpcy5nZXRJdGVtKGUpO3JldHVybiB0aGlzLmlzU3VwcG9ydGVkJiZ0Pyh3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSksITApOiExfSl9c2F2ZUF1dGhDb29raWUoZSl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2V0SXRlbShJKHRoaXMuY2xpZW50SWQpLGUpfSl9Z2V0QXV0aENvb2tpZSgpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5nZXRJdGVtKEkodGhpcy5jbGllbnRJZCkpfSl9cmVtb3ZlQXV0aENvb2tpZSgpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5yZW1vdmVJdGVtKEkodGhpcy5jbGllbnRJZCkpfSl9c2F2ZURldmljZVNoYXJlKGUsdCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2F2ZVdhbGxldFVzZXJJZCh0KSx5aWVsZCB0aGlzLnNldEl0ZW0oVyh0aGlzLmNsaWVudElkLHQpLGUpfSl9Z2V0RGV2aWNlU2hhcmUoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGU9eWllbGQgdGhpcy5nZXRXYWxsZXRVc2VySWQoKTtyZXR1cm4gZT90aGlzLmdldEl0ZW0oVyh0aGlzLmNsaWVudElkLGUpKTpudWxsfSl9cmVtb3ZlRGV2aWNlU2hhcmUoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGU9eWllbGQgdGhpcy5nZXRXYWxsZXRVc2VySWQoKTtyZXR1cm4gZT90aGlzLnJlbW92ZUl0ZW0oVyh0aGlzLmNsaWVudElkLGUpKTohMX0pfWdldFdhbGxldFVzZXJJZCgpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5nZXRJdGVtKEwodGhpcy5jbGllbnRJZCkpfSl9c2F2ZVdhbGxldFVzZXJJZChlKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZXRJdGVtKEwodGhpcy5jbGllbnRJZCksZSl9KX1yZW1vdmVXYWxsZXRVc2VySWQoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMucmVtb3ZlSXRlbShMKHRoaXMuY2xpZW50SWQpKX0pfX07aW1wb3J0e2dldFBhcGVyT3JpZ2luVXJsIGFzIFN9ZnJvbVwiQHBhcGVyeHl6L3Nkay1jb21tb24tdXRpbGl0aWVzXCI7ZnVuY3Rpb24gdihzKXtyZXR1cm4gbmV3IFByb21pc2UoZT0+e3NldFRpbWVvdXQoZSxzKjFlMyl9KX12YXIgZWU9e2hlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIixib3JkZXI6XCJub25lXCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIixjb2xvclNjaGVtZTpcImxpZ2h0XCIscG9zaXRpb246XCJmaXhlZFwiLHRvcDpcIjBweFwiLHJpZ2h0OlwiMHB4XCIsekluZGV4OlwiMjE0NzQ4MzY0NlwiLGRpc3BsYXk6XCJub25lXCJ9LEc9bmV3IE1hcCxmPWNsYXNze2NvbnN0cnVjdG9yKHtsaW5rOmUsaWZyYW1lSWQ6dCxjb250YWluZXI6cj1kb2N1bWVudC5ib2R5LGlmcmFtZVN0eWxlczphLG9uSWZyYW1lSW5pdGlhbGl6ZTpvfSl7dGhpcy5QT0xMSU5HX0lOVEVSVkFMX1NFQ09ORFM9MS40O3RoaXMuUE9TVF9MT0FEX0JVRkZFUl9TRUNPTkRTPTE7bGV0IG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCksZD1uZXcgVVJMKGUpLGw9XCIxLjIuNVwiO2lmKCFsKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgU0RLX1ZFUlNJT04gZW52IHZhclwiKTtpZihkLnNlYXJjaFBhcmFtcy5zZXQoXCJzZGtWZXJzaW9uXCIsbCksIW58fG4uc3JjIT1kLmhyZWYpe2lmKCFuKXtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7bGV0IHA9dSh1KHt9LGVlKSxhKTtPYmplY3QuYXNzaWduKG4uc3R5bGUscCksbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLHQpLG4uc2V0QXR0cmlidXRlKFwiZmV0Y2hwcmlvcml0eVwiLFwiaGlnaFwiKSxyLmFwcGVuZENoaWxkKG4pfW4uc3JjPWQuaHJlZixuLnNldEF0dHJpYnV0ZShcImRhdGEtdmVyc2lvblwiLGwpLG4ub25sb2FkPXRoaXMub25JZnJhbWVMb2FkSGFuZGxlcihuLHRoaXMuUE9TVF9MT0FEX0JVRkZFUl9TRUNPTkRTLG8pfXRoaXMuaWZyYW1lPW59b25JZnJhbWVMb2FkZWRJbml0VmFyaWFibGVzKCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybnt9fSl9b25JZnJhbWVMb2FkSGFuZGxlcihlLHQscil7cmV0dXJuKCk9PmkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIG5ldyBQcm9taXNlKChvLG4pPT5pKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcDtsZXQgZD1uZXcgTWVzc2FnZUNoYW5uZWw7ZC5wb3J0MS5vbm1lc3NhZ2U9bT0+e2xldHtkYXRhOmN9PW07cmV0dXJuIGQucG9ydDEuY2xvc2UoKSxjLnN1Y2Nlc3M/KEcuc2V0KGUuc3JjLCEwKSxyJiZyKCksbyghMCkpOm4obmV3IEVycm9yKGMuZXJyb3IpKX0seWllbGQgdih0KTtsZXQgbD1cImluaXRJZnJhbWVcIjsocD1lPT1udWxsP3ZvaWQgMDplLmNvbnRlbnRXaW5kb3cpPT1udWxsfHxwLnBvc3RNZXNzYWdlKHtldmVudFR5cGU6bCxkYXRhOnlpZWxkIHRoaXMub25JZnJhbWVMb2FkZWRJbml0VmFyaWFibGVzKCl9LGAke1MoKX0ke0V9YCxbZC5wb3J0Ml0pfSkpfSl9Y2FsbChvKXtyZXR1cm4gaSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe3Byb2NlZHVyZU5hbWU6ZSxwYXJhbXM6dCxzaG93SWZyYW1lOnI9ITEsaW5qZWN0UmVjb3ZlcnlDb2RlOmE9e2lzSW5qZWN0UmVjb3ZlcnlDb2RlOiExfX0pe2Zvcig7IUcuZ2V0KHRoaXMuaWZyYW1lLnNyYyk7KXlpZWxkIHYodGhpcy5QT0xMSU5HX0lOVEVSVkFMX1NFQ09ORFMpO3JldHVybiByJiYodGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIseWllbGQgdiguMDA1KSksbmV3IFByb21pc2UoKGQsbCk9Pnt2YXIgbTtpZihhLmlzSW5qZWN0UmVjb3ZlcnlDb2RlKXtsZXQgYz1nPT5pKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgVSxiO2lmKGcub3JpZ2luIT09UygpfHxnLmRhdGEudHlwZSE9PVwicGFwZXJfZ2V0UmVjb3ZlcnlDb2RlXCJ8fHR5cGVvZiBnLmRhdGEudXNlcldhbGxldElkIT1cInN0cmluZ1wiKXJldHVybjtsZXQgVj15aWVsZChVPWEuZ2V0UmVjb3ZlcnlDb2RlKT09bnVsbD92b2lkIDA6VS5jYWxsKGEsZy5kYXRhLnVzZXJXYWxsZXRJZCk7KGI9dGhpcy5pZnJhbWUuY29udGVudFdpbmRvdyk9PW51bGx8fGIucG9zdE1lc3NhZ2Uoe3R5cGU6XCJwYXBlcl9nZXRSZWNvdmVyeUNvZGVfcmVzcG9uc2VcIixyZWNvdmVyeUNvZGU6Vn0sUygpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixjKX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGMpfWxldCBwPW5ldyBNZXNzYWdlQ2hhbm5lbDtwLnBvcnQxLm9ubWVzc2FnZT1jPT5pKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXR7ZGF0YTpnfT1jO3AucG9ydDEuY2xvc2UoKSxyJiYoeWllbGQgdiguMSksdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZy5zdWNjZXNzP2QoZy5kYXRhKTpsKG5ldyBFcnJvcihnLmVycm9yKSl9KSwobT10aGlzLmlmcmFtZS5jb250ZW50V2luZG93KT09bnVsbHx8bS5wb3N0TWVzc2FnZSh7ZXZlbnRUeXBlOmUsZGF0YTp0fSxgJHtTKCl9JHtFfWAsW3AucG9ydDJdKX0pfSl9ZGVzdHJveSgpe0cuZGVsZXRlKHRoaXMuaWZyYW1lLnNyYyl9fTt2YXIgXz1jbGFzcyBleHRlbmRzIGZ7Y29uc3RydWN0b3Ioe2NsaWVudElkOnQsY3VzdG9taXphdGlvbk9wdGlvbnM6cn0pe3N1cGVyKHtpZnJhbWVJZDppZSxsaW5rOnJlKHtjbGllbnRJZDp0LHBhdGg6RSxxdWVyeVBhcmFtczpyfSkuaHJlZixjb250YWluZXI6ZG9jdW1lbnQuYm9keX0pO3RoaXMuY2xpZW50SWQ9dH1vbklmcmFtZUxvYWRlZEluaXRWYXJpYWJsZXMoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9bmV3IGgoe2NsaWVudElkOnRoaXMuY2xpZW50SWR9KTtyZXR1cm57YXV0aENvb2tpZTp5aWVsZCB0LmdldEF1dGhDb29raWUoKSxkZXZpY2VTaGFyZVN0b3JlZDp5aWVsZCB0LmdldERldmljZVNoYXJlKCksd2FsbGV0VXNlcklkOnlpZWxkIHQuZ2V0V2FsbGV0VXNlcklkKCksY2xpZW50SWQ6dGhpcy5jbGllbnRJZH19KX19O2Z1bmN0aW9uIHJlKHtjbGllbnRJZDpzLHBhdGg6ZSxxdWVyeVBhcmFtczp0fSl7dmFyIGE7bGV0IHI9bmV3IFVSTChlLHRlKCkpO2lmKHQpZm9yKGxldCBvIG9mIE9iamVjdC5rZXlzKHQpKXIuc2VhcmNoUGFyYW1zLnNldChvLCgoYT10W29dKT09bnVsbD92b2lkIDA6YS50b1N0cmluZygpKXx8XCJcIik7cmV0dXJuIHIuc2VhcmNoUGFyYW1zLnNldChcImNsaWVudElkXCIscykscn12YXIgaWU9XCJwYXBlci1lbWJlZGRlZC13YWxsZXQtaWZyYW1lXCI7aW1wb3J0e2dldFBhcGVyT3JpZ2luVXJsIGFzIGp9ZnJvbVwiQHBhcGVyeHl6L3Nkay1jb21tb24tdXRpbGl0aWVzXCI7dmFyIEE9Y2xhc3N7Y29uc3RydWN0b3Ioe3F1ZXJpZXI6ZSxwcmVMb2dpbjp0LHBvc3RMb2dpbjpyLGNsaWVudElkOmF9KXt0aGlzLkxvZ2luUXVlcmllcj1lLHRoaXMucHJlTG9naW49dCx0aGlzLnBvc3RMb2dpbj1yLHRoaXMuY2xpZW50SWQ9YX1zZW5kUGFwZXJFbWFpbExvZ2luT3RwKHIpe3JldHVybiBpKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7ZW1haWw6ZSxyZWNvdmVyeVNoYXJlTWFuYWdlbWVudDp0fSl7eWllbGQgdGhpcy5wcmVMb2dpbigpO2xldHtpc05ld1VzZXI6YSxpc05ld0RldmljZTpvLHJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50Om59PXlpZWxkIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJzZW5kUGFwZXJFbWFpbExvZ2luT3RwXCIscGFyYW1zOntlbWFpbDplLHJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50OnR9fSk7cmV0dXJue2lzTmV3VXNlcjphLGlzTmV3RGV2aWNlOm8scmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ6bn19KX19O3ZhciBDPWNsYXNzIGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7dGhpcy5jbG9zZVdpbmRvdz0oe2lzV2luZG93T3BlbmVkQnlGbjp0LHdpbjpyLGNsb3NlT3BlbmVkV2luZG93OmF9KT0+e3Q/cj09bnVsbHx8ci5jbG9zZSgpOnImJmE/YShyKTpyJiZyLmNsb3NlKCl9fWxvZ2luV2l0aFBhcGVyTW9kYWwoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wcmVMb2dpbigpO2xldCB0PXlpZWxkIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJsb2dpbldpdGhQYXBlck1vZGFsXCIscGFyYW1zOntyZWNvdmVyeVNoYXJlTWFuYWdlbWVudDpcIkFXU19NQU5BR0VEXCJ9LHNob3dJZnJhbWU6ITAsaW5qZWN0UmVjb3ZlcnlDb2RlOntpc0luamVjdFJlY292ZXJ5Q29kZTohMH19KTtyZXR1cm4gdGhpcy5wb3N0TG9naW4odCl9KX1nZXRHb29nbGVMb2dpblVybCgpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcImdldEhlYWRsZXNzR29vZ2xlTG9naW5MaW5rXCIscGFyYW1zOnZvaWQgMH0pfSl9bG9naW5XaXRoR29vZ2xlKHQpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnByZUxvZ2luKCk7bGV0IHI9dD09bnVsbD92b2lkIDA6dC5vcGVuZWRXaW5kb3csYT0hMTtpZihyfHwocj13aW5kb3cub3BlbihcIlwiLFwiTG9naW5cIixcIndpZHRoPTM1MCwgaGVpZ2h0PTUwMFwiKSxhPSEwKSwhcil0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyBvcGVuaW5nIHBvcC11cFwiKTt5aWVsZCB0aGlzLnByZUxvZ2luKCk7bGV0e2xvZ2luTGluazpvfT15aWVsZCB0aGlzLmdldEdvb2dsZUxvZ2luVXJsKCk7ci5sb2NhdGlvbi5ocmVmPW87bGV0IG49eWllbGQgbmV3IFByb21pc2UoKGQsbCk9PntsZXQgcD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PmkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ImJnIuY2xvc2VkJiYoY2xlYXJJbnRlcnZhbChwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixtKSxsKG5ldyBFcnJvcihcIlVzZXIgY2xvc2VkIGxvZ2luIHdpbmRvd1wiKSkpfSksMWUzKSxtPWM9PmkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGMub3JpZ2luPT09aigpKXtpZih0eXBlb2YgYy5kYXRhIT1cIm9iamVjdFwiKXtsKG5ldyBFcnJvcihcIkludmFsaWQgZXZlbnQgZGF0YVwiKSk7cmV0dXJufXN3aXRjaChjLmRhdGEuZXZlbnRUeXBlKXtjYXNlXCJ1c2VyTG9naW5TdWNjZXNzXCI6e3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG0pLGNsZWFySW50ZXJ2YWwocCksdGhpcy5jbG9zZVdpbmRvdyh7aXNXaW5kb3dPcGVuZWRCeUZuOmEsd2luOnIsY2xvc2VPcGVuZWRXaW5kb3c6dD09bnVsbD92b2lkIDA6dC5jbG9zZU9wZW5lZFdpbmRvd30pLGMuZGF0YS5hdXRoUmVzdWx0JiZkKGMuZGF0YS5hdXRoUmVzdWx0KTticmVha31jYXNlXCJ1c2VyTG9naW5GYWlsZWRcIjp7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbSksY2xlYXJJbnRlcnZhbChwKSx0aGlzLmNsb3NlV2luZG93KHtpc1dpbmRvd09wZW5lZEJ5Rm46YSx3aW46cixjbG9zZU9wZW5lZFdpbmRvdzp0PT1udWxsP3ZvaWQgMDp0LmNsb3NlT3BlbmVkV2luZG93fSksbChuZXcgRXJyb3IoYy5kYXRhLmVycm9yKSk7YnJlYWt9Y2FzZVwiaW5qZWN0RGV2ZWxvcGVyQ2xpZW50SWRcIjp7cj09bnVsbHx8ci5wb3N0TWVzc2FnZSh7ZXZlbnRUeXBlOlwiaW5qZWN0RGV2ZWxvcGVyQ2xpZW50SWRSZXN1bHRcIixkZXZlbG9wZXJDbGllbnRJZDp0aGlzLmNsaWVudElkfSxqKCkpO2JyZWFrfX19fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbSl9KTtyZXR1cm4gdGhpcy5wb3N0TG9naW4oe3N0b3JlZFRva2VuOnkodSh7fSxuLnN0b3JlZFRva2VuKSx7c2hvdWxkU3RvcmVDb29raWVTdHJpbmc6ITB9KSx3YWxsZXREZXRhaWxzOnkodSh7fSxuLndhbGxldERldGFpbHMpLHtpc0lmcmFtZVN0b3JhZ2VFbmFibGVkOiExfSl9KX0pfWxvZ2luV2l0aFBhcGVyRW1haWxPdHAocil7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtlbWFpbDp0fSl7eWllbGQgdGhpcy5wcmVMb2dpbigpO2xldCBhPXlpZWxkIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJsb2dpbldpdGhQYXBlck1vZGFsXCIscGFyYW1zOntlbWFpbDp0LHJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50OlwiQVdTX01BTkFHRURcIn0sc2hvd0lmcmFtZTohMCxpbmplY3RSZWNvdmVyeUNvZGU6e2lzSW5qZWN0UmVjb3ZlcnlDb2RlOiEwfX0pO3JldHVybiB0aGlzLnBvc3RMb2dpbihhKX0pfXZlcmlmeVBhcGVyRW1haWxMb2dpbk90cChhKXtyZXR1cm4gaSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe2VtYWlsOnQsb3RwOnJ9KXtsZXQgbz15aWVsZCB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtwcm9jZWR1cmVOYW1lOlwidmVyaWZ5UGFwZXJFbWFpbExvZ2luT3RwXCIscGFyYW1zOntlbWFpbDp0LG90cDpyLHJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50OlwiQVdTX01BTkFHRURcIn0saW5qZWN0UmVjb3ZlcnlDb2RlOntpc0luamVjdFJlY292ZXJ5Q29kZTohMH19KTtyZXR1cm4gdGhpcy5wb3N0TG9naW4obyl9KX19O3ZhciBEPWNsYXNzIGV4dGVuZHMgQXtsb2dpbldpdGhQYXBlck1vZGFsKGUpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnByZUxvZ2luKCk7bGV0IHQ9eWllbGQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcImxvZ2luV2l0aFBhcGVyTW9kYWxcIixwYXJhbXM6dm9pZCAwLHNob3dJZnJhbWU6ITAsaW5qZWN0UmVjb3ZlcnlDb2RlOntpc0luamVjdFJlY292ZXJ5Q29kZTohMCxnZXRSZWNvdmVyeUNvZGU6ZT09bnVsbD92b2lkIDA6ZS5nZXRSZWNvdmVyeUNvZGV9fSk7cmV0dXJuIHRoaXMucG9zdExvZ2luKHQpfSl9bG9naW5XaXRoR29vZ2xlKGUpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aHJvdyBuZXcgRXJyb3IoXCJsb2dpbldpdGhHb29nbGUgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gdGhlIFJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50LlVTRVJfTUFOQUdFRCBmbG93LiBQbGVhc2UgdXNlIFJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50LkFXU19NQU5BR0VEIGluc3RlYWQuXCIpfSl9bG9naW5XaXRoUGFwZXJFbWFpbE90cChyKXtyZXR1cm4gaSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe2VtYWlsOmUscmVjb3ZlcnlDb2RlOnR9KXt5aWVsZCB0aGlzLnByZUxvZ2luKCk7bGV0IGE9eWllbGQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcImxvZ2luV2l0aFBhcGVyTW9kYWxcIixwYXJhbXM6e2VtYWlsOmUscmVjb3ZlcnlDb2RlOnR9LHNob3dJZnJhbWU6ITAsaW5qZWN0UmVjb3ZlcnlDb2RlOntpc0luamVjdFJlY292ZXJ5Q29kZTohMH19KTtyZXR1cm4gdGhpcy5wb3N0TG9naW4oYSl9KX12ZXJpZnlQYXBlckVtYWlsTG9naW5PdHAoYSl7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtlbWFpbDplLG90cDp0LHJlY292ZXJ5Q29kZTpyfSl7bGV0IG89eWllbGQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcInZlcmlmeVBhcGVyRW1haWxMb2dpbk90cFwiLHBhcmFtczp7ZW1haWw6ZSxvdHA6dCxyZWNvdmVyeUNvZGU6cn0saW5qZWN0UmVjb3ZlcnlDb2RlOntpc0luamVjdFJlY292ZXJ5Q29kZTohMH19KTtyZXR1cm4gdGhpcy5wb3N0TG9naW4obyl9KX19O3ZhciBNPWNsYXNze2NvbnN0cnVjdG9yKHtjbGllbnRJZDplLGFkdmFuY2VkT3B0aW9uczp0LHF1ZXJpZXI6cixvbkF1dGhTdWNjZXNzOmF9KXt2YXIgbzt0aGlzLmNsaWVudElkPWUsdGhpcy5hZHZhbmNlZE9wdGlvbnM9e3JlY292ZXJ5U2hhcmVNYW5hZ2VtZW50OihvPXQ9PW51bGw/dm9pZCAwOnQucmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQpIT1udWxsP286XCJBV1NfTUFOQUdFRFwifSx0aGlzLkF1dGhRdWVyaWVyPXIsdGhpcy5sb2NhbFN0b3JhZ2U9bmV3IGgoe2NsaWVudElkOmV9KSx0aGlzLm9uQXV0aFN1Y2Nlc3M9YSx0aGlzLnVzZXJNYW5hZ2VkTG9naW49bmV3IEQoe3Bvc3RMb2dpbjpuPT5pKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5wb3N0TG9naW4obil9KSxwcmVMb2dpbjooKT0+aSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wcmVMb2dpbigpfSkscXVlcmllcjpyLGNsaWVudElkOmV9KSx0aGlzLmF3c01hbmFnZWRMb2dpbj1uZXcgQyh7cG9zdExvZ2luOm49PmkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLnBvc3RMb2dpbihuKX0pLHByZUxvZ2luOigpPT5pKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnByZUxvZ2luKCl9KSxxdWVyaWVyOnIsY2xpZW50SWQ6ZX0pfXByZUxvZ2luKCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMubG9nb3V0KCl9KX1wb3N0TG9naW4ocil7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtzdG9yZWRUb2tlbjplLHdhbGxldERldGFpbHM6dH0pe3JldHVybiBlLnNob3VsZFN0b3JlQ29va2llU3RyaW5nJiYoeWllbGQgdGhpcy5sb2NhbFN0b3JhZ2Uuc2F2ZUF1dGhDb29raWUoZS5jb29raWVTdHJpbmcpKSx5aWVsZCB0aGlzLm9uQXV0aFN1Y2Nlc3Moe3N0b3JlZFRva2VuOmUsd2FsbGV0RGV0YWlsczp0fSl9KX1sb2dpbldpdGhKd3RBdXRoKGEpe3JldHVybiBpKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7dG9rZW46ZSxhdXRoUHJvdmlkZXI6dCxyZWNvdmVyeUNvZGU6cn0pe3lpZWxkIHRoaXMucHJlTG9naW4oKTtsZXQgbz15aWVsZCB0aGlzLkF1dGhRdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJsb2dpbldpdGhKd3RBdXRoQ2FsbGJhY2tcIixwYXJhbXM6e3Rva2VuOmUsYXV0aFByb3ZpZGVyOnQscmVjb3ZlcnlDb2RlOnJ9fSk7cmV0dXJuIHRoaXMucG9zdExvZ2luKG8pfSl9bG9naW5XaXRoUGFwZXJNb2RhbChlKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMucHJlTG9naW4oKSx0aGlzLmFkdmFuY2VkT3B0aW9ucy5yZWNvdmVyeVNoYXJlTWFuYWdlbWVudD09PVwiQVdTX01BTkFHRURcIj90aGlzLmF3c01hbmFnZWRMb2dpbi5sb2dpbldpdGhQYXBlck1vZGFsKCk6dGhpcy51c2VyTWFuYWdlZExvZ2luLmxvZ2luV2l0aFBhcGVyTW9kYWwoZSl9KX1sb2dpbldpdGhQYXBlckVtYWlsT3RwKGUpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5hZHZhbmNlZE9wdGlvbnMucmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ9PT1cIkFXU19NQU5BR0VEXCI/dGhpcy5hd3NNYW5hZ2VkTG9naW4ubG9naW5XaXRoUGFwZXJFbWFpbE90cCh7ZW1haWw6ZS5lbWFpbH0pOnRoaXMudXNlck1hbmFnZWRMb2dpbi5sb2dpbldpdGhQYXBlckVtYWlsT3RwKGUpfSl9bG9naW5XaXRoR29vZ2xlKGUpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5hZHZhbmNlZE9wdGlvbnMucmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ9PT1cIkFXU19NQU5BR0VEXCI/dGhpcy5hd3NNYW5hZ2VkTG9naW4ubG9naW5XaXRoR29vZ2xlKGUpOnRoaXMudXNlck1hbmFnZWRMb2dpbi5sb2dpbldpdGhHb29nbGUoKX0pfXNlbmRQYXBlckVtYWlsTG9naW5PdHAodCl7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtlbWFpbDplfSl7cmV0dXJuIHRoaXMuYWR2YW5jZWRPcHRpb25zLnJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50PT09XCJBV1NfTUFOQUdFRFwiP3RoaXMuYXdzTWFuYWdlZExvZ2luLnNlbmRQYXBlckVtYWlsTG9naW5PdHAoe2VtYWlsOmUscmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ6XCJBV1NfTUFOQUdFRFwifSk6dGhpcy51c2VyTWFuYWdlZExvZ2luLnNlbmRQYXBlckVtYWlsTG9naW5PdHAoe2VtYWlsOmV9KX0pfXZlcmlmeVBhcGVyRW1haWxMb2dpbk90cChlKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuYWR2YW5jZWRPcHRpb25zLnJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50PT09XCJBV1NfTUFOQUdFRFwiP3RoaXMuYXdzTWFuYWdlZExvZ2luLnZlcmlmeVBhcGVyRW1haWxMb2dpbk90cChlKTp0aGlzLnVzZXJNYW5hZ2VkTG9naW4udmVyaWZ5UGFwZXJFbWFpbExvZ2luT3RwKGUpfSl9bG9nb3V0KCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldHtzdWNjZXNzOmV9PXlpZWxkIHRoaXMuQXV0aFF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcImxvZ291dFwiLHBhcmFtczp2b2lkIDB9KSx0PXlpZWxkIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUF1dGhDb29raWUoKSxyPXlpZWxkIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZVdhbGxldFVzZXJJZCgpO3JldHVybntzdWNjZXNzOmV8fHR8fHJ9fSl9fTtpbXBvcnR7Z2V0RGVmYXVsdFByb3ZpZGVyIGFzIG9lfWZyb21cIkBldGhlcnNwcm9qZWN0L3Byb3ZpZGVyc1wiO2ltcG9ydHtDaGFpblRvUHVibGljUnBjIGFzIHNlfWZyb21cIkBwYXBlcnh5ei9zZGstY29tbW9uLXV0aWxpdGllc1wiO3ZhciBSPWNsYXNze2NvbnN0cnVjdG9yKHtjaGFpbjplLGNsaWVudElkOnQscXVlcmllcjpyfSl7dGhpcy5jaGFpbj1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLmdhc2xlc3NUcmFuc2FjdGlvblF1ZXJpZXI9cn1jYWxsQ29udHJhY3QoYSl7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtjb250cmFjdEFkZHJlc3M6ZSxtZXRob2RBcmdzOnQsbWV0aG9kSW50ZXJmYWNlOnJ9KXtyZXR1cm4geWllbGQgdGhpcy5nYXNsZXNzVHJhbnNhY3Rpb25RdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJjYWxsQ29udHJhY3RcIixwYXJhbXM6e2NoYWluOnRoaXMuY2hhaW4sY29udHJhY3RBZGRyZXNzOmUsbWV0aG9kOnthcmdzOnQsc3R1YjpyfX19KX0pfX07aW1wb3J0e1NpZ25lciBhcyBuZX1mcm9tXCJAZXRoZXJzcHJvamVjdC9hYnN0cmFjdC1zaWduZXJcIjtpbXBvcnR7ZGVmaW5lUmVhZE9ubHkgYXMgYWV9ZnJvbVwiQGV0aGVyc3Byb2plY3QvcHJvcGVydGllc1wiO3ZhciBUPWNsYXNzIGV4dGVuZHMgbmV7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOnQsY2xpZW50SWQ6cixxdWVyaWVyOmF9KXt2YXIgbztzdXBlcigpO3RoaXMuREVGQVVMVF9FVEhFUkVVTV9DSEFJTl9JRD01O3RoaXMuY2xpZW50SWQ9cix0aGlzLnF1ZXJpZXI9YSx0aGlzLmVuZHBvaW50PShvPXQuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOm8udXJsLGFlKHRoaXMsXCJwcm92aWRlclwiLHQpfWdldEFkZHJlc3MoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0e2FkZHJlc3M6dH09eWllbGQgdGhpcy5xdWVyaWVyLmNhbGwoe3Byb2NlZHVyZU5hbWU6XCJnZXRBZGRyZXNzXCIscGFyYW1zOnZvaWQgMH0pO3JldHVybiB0fSl9c2lnbk1lc3NhZ2UodCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBvLG4sZCxsO2xldCByPXlpZWxkKG89dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOm8uZ2V0TmV0d29yaygpO3ImJnIuX2RlZmF1bHRQcm92aWRlcjtsZXR7c2lnbmVkTWVzc2FnZTphfT15aWVsZCB0aGlzLnF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcInNpZ25NZXNzYWdlXCIscGFyYW1zOnttZXNzYWdlOnQsY2hhaW5JZDoobD0oZD15aWVsZChuPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDpuLmdldE5ldHdvcmsoKSk9PW51bGw/dm9pZCAwOmQuY2hhaW5JZCkhPW51bGw/bDp0aGlzLkRFRkFVTFRfRVRIRVJFVU1fQ0hBSU5fSUQscnBjRW5kcG9pbnQ6dGhpcy5lbmRwb2ludH19KTtyZXR1cm4gYX0pfXNpZ25UcmFuc2FjdGlvbih0KXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGEsbyxuO2xldHtzaWduZWRUcmFuc2FjdGlvbjpyfT15aWVsZCB0aGlzLnF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcInNpZ25UcmFuc2FjdGlvblwiLHBhcmFtczp7dHJhbnNhY3Rpb246dCxjaGFpbklkOihuPShvPXlpZWxkKGE9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmEuZ2V0TmV0d29yaygpKT09bnVsbD92b2lkIDA6by5jaGFpbklkKSE9bnVsbD9uOnRoaXMuREVGQVVMVF9FVEhFUkVVTV9DSEFJTl9JRCxycGNFbmRwb2ludDp0aGlzLmVuZHBvaW50fX0pO3JldHVybiByfSl9X3NpZ25UeXBlZERhdGEodCxyLGEpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgbixkLGw7bGV0e3NpZ25lZFR5cGVkRGF0YTpvfT15aWVsZCB0aGlzLnF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcInNpZ25UeXBlZERhdGFWNFwiLHBhcmFtczp7ZG9tYWluOnQsdHlwZXM6cixtZXNzYWdlOmEsY2hhaW5JZDoobD0oZD15aWVsZChuPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDpuLmdldE5ldHdvcmsoKSk9PW51bGw/dm9pZCAwOmQuY2hhaW5JZCkhPW51bGw/bDp0aGlzLkRFRkFVTFRfRVRIRVJFVU1fQ0hBSU5fSUQscnBjRW5kcG9pbnQ6dGhpcy5lbmRwb2ludH19KTtyZXR1cm4gb30pfWNvbm5lY3QodCl7cmV0dXJuIG5ldyBUKHtjbGllbnRJZDp0aGlzLmNsaWVudElkLHByb3ZpZGVyOnQscXVlcmllcjp0aGlzLnF1ZXJpZXJ9KX19O3ZhciBPPWNsYXNze2NvbnN0cnVjdG9yKHtjbGllbnRJZDplLGNoYWluOnQscXVlcmllcjpyfSl7dGhpcy5jbGllbnRJZD1lLHRoaXMuY2hhaW49dCx0aGlzLndhbGxldE1hbmFnZXJRdWVyaWVyPXIsdGhpcy5nYXNsZXNzPW5ldyBSKHtjaGFpbjp0LGNsaWVudElkOmUscXVlcmllcjpyfSksdGhpcy5sb2NhbFN0b3JhZ2U9bmV3IGgoe2NsaWVudElkOmV9KX1wb3N0V2FsbGV0U2V0VXAobyl7cmV0dXJuIGkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtkZXZpY2VTaGFyZVN0b3JlZDplLHdhbGxldEFkZHJlc3M6dCxpc0lmcmFtZVN0b3JhZ2VFbmFibGVkOnIsd2FsbGV0VXNlcklkOmF9KXtyZXR1cm4gcnx8KHlpZWxkIHRoaXMubG9jYWxTdG9yYWdlLnNhdmVEZXZpY2VTaGFyZShlLGEpKSx7d2FsbGV0QWRkcmVzczp0fX0pfWdldFVzZXJXYWxsZXRTdGF0dXMoKXtyZXR1cm4gaSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGU9eWllbGQgdGhpcy53YWxsZXRNYW5hZ2VyUXVlcmllci5jYWxsKHtwcm9jZWR1cmVOYW1lOlwiZ2V0VXNlclN0YXR1c1wiLHBhcmFtczp2b2lkIDB9KTtyZXR1cm4gZS5zdGF0dXM9PT1cIkxvZ2dlZCBJbiwgV2FsbGV0IEluaXRpYWxpemVkXCI/e3N0YXR1czpcIkxvZ2dlZCBJbiwgV2FsbGV0IEluaXRpYWxpemVkXCIsdXNlcjp5KHUoe30sZS51c2VyKSx7d2FsbGV0OnRoaXN9KX06ZX0pfXNldENoYWluKHQpe3JldHVybiBpKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7Y2hhaW46ZX0pe3RoaXMuY2hhaW49ZSx0aGlzLmdhc2xlc3M9bmV3IFIoe2NoYWluOmUsY2xpZW50SWQ6dGhpcy5jbGllbnRJZCxxdWVyaWVyOnRoaXMud2FsbGV0TWFuYWdlclF1ZXJpZXJ9KX0pfWdldEV0aGVyc0pzU2lnbmVyKGUpe3JldHVybiBpKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtyZXR1cm4gbmV3IFQoe2NsaWVudElkOnRoaXMuY2xpZW50SWQscHJvdmlkZXI6b2UoKHI9ZT09bnVsbD92b2lkIDA6ZS5ycGNFbmRwb2ludCkhPW51bGw/cjpzZVt0aGlzLmNoYWluXSkscXVlcmllcjp0aGlzLndhbGxldE1hbmFnZXJRdWVyaWVyfSl9KX19O3ZhciBOPWNsYXNze2NvbnN0cnVjdG9yKHtjbGllbnRJZDplLGNoYWluOnQsc3R5bGVzOnIsYWR2YW5jZWRPcHRpb25zOmEsb25BdXRoU3VjY2VzczpvfSl7dGhpcy5jbGllbnRJZD1lLHRoaXMucXVlcmllcj1uZXcgXyh7Y2xpZW50SWQ6ZSxjdXN0b21pemF0aW9uT3B0aW9uczpyfSksdGhpcy53YWxsZXQ9bmV3IE8oe2NsaWVudElkOmUsY2hhaW46dCxxdWVyaWVyOnRoaXMucXVlcmllcn0pLHRoaXMuYXV0aD1uZXcgTSh7Y2xpZW50SWQ6ZSxhZHZhbmNlZE9wdGlvbnM6dSh7cmVjb3ZlcnlTaGFyZU1hbmFnZW1lbnQ6XCJVU0VSX01BTkFHRURcIn0sYSE9bnVsbD9hOnt9KSxxdWVyaWVyOnRoaXMucXVlcmllcixvbkF1dGhTdWNjZXNzOm49PmkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLndhbGxldC5wb3N0V2FsbGV0U2V0VXAoeSh1KHt9LG4ud2FsbGV0RGV0YWlscykse3dhbGxldFVzZXJJZDpuLnN0b3JlZFRva2VuLmF1dGhEZXRhaWxzLnVzZXJXYWxsZXRJZH0pKSx5aWVsZCB0aGlzLnF1ZXJpZXIuY2FsbCh7cHJvY2VkdXJlTmFtZTpcImluaXRJZnJhbWVcIixwYXJhbXM6e2RldmljZVNoYXJlU3RvcmVkOm4ud2FsbGV0RGV0YWlscy5kZXZpY2VTaGFyZVN0b3JlZCxjbGllbnRJZDp0aGlzLmNsaWVudElkLHdhbGxldFVzZXJJZDpuLnN0b3JlZFRva2VuLmF1dGhEZXRhaWxzLnVzZXJXYWxsZXRJZCxhdXRoQ29va2llOm4uc3RvcmVkVG9rZW4uY29va2llU3RyaW5nfX0pLG89PW51bGx8fG8obikse3VzZXI6e3N0YXR1czpcIkxvZ2dlZCBJbiwgV2FsbGV0IEluaXRpYWxpemVkXCIsYXV0aERldGFpbHM6bi5zdG9yZWRUb2tlbi5hdXRoRGV0YWlscyx3YWxsZXQ6dGhpcy53YWxsZXQsd2FsbGV0QWRkcmVzczpuLndhbGxldERldGFpbHMud2FsbGV0QWRkcmVzc319fSl9KX1nZXRVc2VyKCl7cmV0dXJuIGkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBlPXlpZWxkIHRoaXMud2FsbGV0LmdldFVzZXJXYWxsZXRTdGF0dXMoKTtzd2l0Y2goZS5zdGF0dXMpe2Nhc2VcIkxvZ2dlZCBJbiwgTmV3IERldmljZVwiOmNhc2VcIkxvZ2dlZCBJbiwgV2FsbGV0IFVuaW5pdGlhbGl6ZWRcIjpyZXR1cm4geWllbGQgdGhpcy5hdXRoLmxvZ291dCgpLHRoaXMuZ2V0VXNlcigpO2Nhc2VcIkxvZ2dlZCBPdXRcIjpyZXR1cm57c3RhdHVzOlwiTG9nZ2VkIE91dFwifTtjYXNlXCJMb2dnZWQgSW4sIFdhbGxldCBJbml0aWFsaXplZFwiOnJldHVybiB1KHtzdGF0dXM6XCJMb2dnZWQgSW4sIFdhbGxldCBJbml0aWFsaXplZFwifSxlLnVzZXIpfX0pfX07ZXhwb3J0e0kgYXMgQVVUSF9UT0tFTl9MT0NBTF9TVE9SQUdFX05BTUUsWSBhcyBBdXRoUHJvdmlkZXIsVyBhcyBERVZJQ0VfU0hBUkVfTE9DQUxfU1RPUkFHRV9OQU1FLFggYXMgREVWSUNFX1NIQVJFX0xPQ0FMX1NUT1JBR0VfTkFNRV9ERVBSRUNBVEVELE4gYXMgUGFwZXJFbWJlZGRlZFdhbGxldFNkayx3IGFzIFJlY292ZXJ5U2hhcmVNYW5hZ2VtZW50LEggYXMgVXNlclN0YXR1cyxQIGFzIFVzZXJXYWxsZXRTdGF0dXMsSiBhcyBXQUxMRVRfVVNFUl9ERVRBSUxTX0xPQ0FMX1NUT1JBR0VfTkFNRSxMIGFzIFdBTExFVF9VU0VSX0lEX0xPQ0FMX1NUT1JBR0VfTkFNRX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs\n"));

/***/ })

}]);